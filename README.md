# RecordNote - 議事録作成アプリ

日本語音声を録音して自動的に議事録を作成するPythonデスクトップアプリケーションです。

## 特徴

- **完全ローカル動作**: クラウドAPIを使用せず、全ての処理をローカルで実行
- **日本語特化**: 日本語音声認識に最適化
- **リアルタイム録音**: ワンクリックで録音開始・停止
- **自動整形**: 認識した音声を読みやすい議事録形式に整形
- **ネイティブデスクトップUI**: Kivyによるクロスプラットフォーム対応
- **ファイル保存**: ネイティブファイルダイアログでMarkdown形式での保存

## 技術スタック

- **Python 3.9+**
- **Kivy & KivyMD**: クロスプラットフォームデスクトップUI
- **Faster Whisper**: 軽量で高速なローカル音声認識
- **sounddevice**: 音声録音
- **plyer**: ネイティブファイルダイアログとシステム連携
- **Poetry**: パッケージ管理

## セットアップ

### 1. 依存関係のインストール

```bash
# Poetryを使用してプロジェクトをセットアップ
poetry install

# 仮想環境を有効化
poetry shell
```

### 2. Pre-commitフックの設定（開発者向け）

```bash
# Pre-commitフックを設定
pre-commit install

# フックをテスト実行
pre-commit run --all-files
```

## 使用方法

### アプリケーションの起動

```bash
# Kivyデスクトップアプリを起動
python main.py
```

デスクトップアプリケーションが起動します。

### 基本的な使い方

1. **会議名の入力**（オプション）
   - 左パネルの「会議名」フィールドに会議のタイトルを入力

2. **録音開始**
   - 「🔴 録音開始」ボタンをクリック
   - マイクアクセスの許可が求められた場合は許可してください

3. **録音停止**
   - 「⏹️ 録音停止」ボタンをクリック
   - 自動的に音声認識と議事録整形が開始されます

4. **結果の確認**
   - 右パネルに生成された議事録が表示されます
   - 「📄 議事録をダウンロード」ボタンでネイティブファイルダイアログから保存場所を選択

### 設定オプション

- **Faster Whisperモデル**: 認識精度と処理速度のバランスを調整
  - `tiny`: 最高速、低精度
  - `base`: 推奨設定（デフォルト）
  - `small`: 中精度
  - `medium`: 高精度
  - `large`: 最高精度、低速

## プロジェクト構造

```
recordnote/
├── src/recordnote/           # メインパッケージ
│   ├── __init__.py
│   ├── kivy_app.py          # Kivyデスクトップアプリケーション
│   ├── recorder.py          # 音声録音モジュール
│   ├── transcriber.py       # 音声認識モジュール
│   └── formatter.py         # 議事録整形モジュール
├── tests/                   # テストファイル
├── recordings/              # 録音ファイル保存用
├── main.py                  # アプリエントリーポイント
├── pyproject.toml           # Poetry設定
├── .pre-commit-config.yaml  # Pre-commit設定
└── README.md               # このファイル
```

## 開発

### コード品質チェック

```bash
# 型チェック
mypy src/

# コードフォーマット
black src/

# Import整理
isort src/

# リンター
flake8 src/
```

### テスト実行

```bash
pytest tests/
```

## 必要なシステム要件

- **OS**: macOS, Linux, Windows (Kivyによりクロスプラットフォーム対応)
- **Python**: 3.9以上
- **メモリ**: 4GB以上推奨
- **ストレージ**: 2GB以上（Whisperモデル用）
- **マイク**: 音声録音用
- **OpenGL**: Kivyの描画に必要（通常は標準装備）

## トラブルシューティング

### 音声録音ができない

- マイクのアクセス許可を確認してください
- macOSの場合、システム環境設定 > セキュリティとプライバシー > プライバシー > マイクロフォン

### アプリケーションが起動しない

- Kivyの依存関係が正しくインストールされているか確認してください
- `poetry install` を実行して全ての依存関係を再インストールしてください
- OpenGLドライバーが最新であることを確認してください

### Faster Whisperモデルのダウンロードエラー

- インターネット接続を確認してください
- 初回実行時にモデルファイルが自動ダウンロードされます

### メモリ不足エラー

- より小さいFaster Whisperモデル（tiny, base）を使用してください
- 不要なアプリケーションを終了してメモリを確保してください

### ファイル保存ができない

- 保存先ディレクトリへの書き込み権限があることを確認してください
- ファイル名に使用できない文字が含まれていないか確認してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 貢献

プルリクエストやイシューの報告を歓迎します。開発に参加する場合は、事前にpre-commitフックを設定してコード品質を保持してください。